(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==i[l]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},i={app:0},n=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1913:function(e,t,r){"use strict";var a=r("df19"),i=r.n(a);i.a},"1daf":function(e,t,r){"use strict";var a=r("e39f"),i=r.n(a);i.a},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"eventBus",(function(){return $}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("library-main")],1)},n=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.titleCanBeChanged?e._e():r("h1",{attrs:{id:"library-title"},on:{click:e.changeTitle}},[e._v(" "+e._s(e.libraryTitle)+" "),r("svg",{attrs:{viewBox:"314.826 209.106 15 15",width:"15",height:"15"}},[r("path",{attrs:{d:"M 325.31 211.541 L 327.659 214.184 C 327.758 214.296 327.758 214.477 327.659 214.589 L 321.971 220.989 L 319.555 221.291 C 319.232 221.331 318.959 221.024 318.994 220.661 L 319.264 217.941 L 324.95 211.541 C 325.051 211.43 325.211 211.43 325.31 211.541 Z M 329.529 210.87 L 328.259 209.44 C 327.863 208.995 327.219 208.995 326.821 209.44 L 325.898 210.477 C 325.801 210.589 325.801 210.77 325.898 210.882 L 328.248 213.525 C 328.346 213.637 328.508 213.637 328.606 213.525 L 329.529 212.488 C 329.925 212.04 329.925 211.315 329.529 210.87 Z M 324.826 219.248 L 324.826 222.231 L 316.492 222.231 L 316.492 212.854 L 322.477 212.854 C 322.561 212.854 322.638 212.816 322.699 212.752 L 323.74 211.579 C 323.938 211.357 323.798 210.979 323.519 210.979 L 316.076 210.979 C 315.386 210.979 314.826 211.609 314.826 212.386 L 314.826 222.7 C 314.826 223.476 315.386 224.106 316.076 224.106 L 325.242 224.106 C 325.931 224.106 326.492 223.476 326.492 222.7 L 326.492 218.076 C 326.492 217.762 326.156 217.607 325.959 217.827 L 324.917 218.999 C 324.86 219.066 324.826 219.154 324.826 219.248 Z"}})])]),e.titleCanBeChanged?r("input",{ref:"title",attrs:{type:"text",name:"header",id:"header-title",placeholder:"Enter a new title"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setNewTitle(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelTitle(t)}}}):e._e(),r("hr"),"library-new-data"!==e.visibleComponent?r("button",{on:{click:e.toggleNewForm}},[e._v(" Add New Book ")]):e._e(),r(e.visibleComponent,{tag:"component",attrs:{library:e.library,index:e.bookIndex}})],1)},s=[],l=(r("c740"),r("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"library-input"},[e.isError?r("div",{staticClass:"error-msg"},[r("p",[e._v(e._s(e.error))])]):e._e(),r("form",[r("label",{staticClass:"form-author",attrs:{for:"author"}},[e._v("Author's Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.author,expression:"author"}],staticClass:"author",attrs:{type:"text",name:"author",id:"author",placeholder:"Author Name"},domProps:{value:e.author},on:{input:function(t){t.target.composing||(e.author=t.target.value)}}}),r("label",{staticClass:"form-title",attrs:{for:"title"}},[e._v("Title of Book")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"title",attrs:{type:"text",name:"title",id:"title",placeholder:"Title of Book"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),r("label",{staticClass:"form-pages",attrs:{for:"page-number"}},[e._v("Number of Pages")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.pageNumber,expression:"pageNumber"}],staticClass:"pages",attrs:{type:"number",name:"pages",id:"page-number",placeholder:"0"},domProps:{value:e.pageNumber},on:{input:function(t){t.target.composing||(e.pageNumber=t.target.value)}}}),r("label",{staticClass:"form-book-read",attrs:{for:"have-read"}},[e._v(" I have read this book ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.haveRead,expression:"haveRead"}],staticClass:"book-read",attrs:{type:"checkbox",name:"read",id:"have-read"},domProps:{checked:Array.isArray(e.haveRead)?e._i(e.haveRead,null)>-1:e.haveRead},on:{change:function(t){var r=e.haveRead,a=t.target,i=!!a.checked;if(Array.isArray(r)){var n=null,o=e._i(r,n);a.checked?o<0&&(e.haveRead=r.concat([n])):o>-1&&(e.haveRead=r.slice(0,o).concat(r.slice(o+1)))}else e.haveRead=i}}}),this.index<0?r("button",{on:{click:function(t){return t.preventDefault(),e.addToLibrary(t)}}},[e._v(" Add Book ")]):r("button",{on:{click:function(t){return t.preventDefault(),e.editBook(t)}}},[e._v("Edit Book")]),r("button",{on:{click:function(t){return t.preventDefault(),e.closeForm(t)}}},[e._v("Cancel")])])])}),c=[],u=(r("a9e3"),{name:"LibraryData",data:function(){return{author:"",title:"",pageNumber:0,haveRead:!1,isError:!1,error:""}},props:{index:{type:Number},library:{type:Array}},created:function(){this.index>=0&&(this.author=this.library[this.index].author,this.title=this.library[this.index].title,this.pageNumber=this.library[this.index].pages,this.haveRead=this.library[this.index].read)},methods:{addToLibrary:function(){if(this.isAcceptedInput()){var e=this.getLibrary();$.$emit("addToLibrary",e),this.closeForm()}},closeForm:function(){$.$emit("formVisible","library-data")},editBook:function(){this.isAcceptedInput()&&(this.library[this.index]=this.getLibrary(),$.$emit("updateBook"),this.closeForm())},getLibrary:function(){return{author:this.author,title:this.title,pages:this.pageNumber,read:this.haveRead}},isAcceptedInput:function(){return""===this.author||""===this.title?(this.setError("Author and Title cannot be blank!"),!1):isNaN(Number(this.pageNumber))||Number(this.pageNumber)<=0?(this.setError("The book must be a valid number of pages!"),!1):(this.isError=!1,!0)},setError:function(e){this.isError=!0,this.error=e}}}),d=u,h=(r("1daf"),r("2877")),f=Object(h["a"])(d,l,c,!1,null,"0df3c318",null),b=f.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"library-list"}},[e._m(0),e._l(e.library,(function(t){return r("div",{key:t.title,attrs:{id:"grid-container"}},[r("div",{staticClass:"author"},[e._v(e._s(t.author))]),r("div",{staticClass:"title"},[e._v(e._s(t.title))]),r("div",{staticClass:"pages"},[e._v(e._s(t.pages))]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.read,expression:"book.read"}],staticClass:"book-read",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.read)?e._i(t.read,null)>-1:t.read},on:{click:function(r){return e.toggleRead(t.title)},change:function(r){var a=t.read,i=r.target,n=!!i.checked;if(Array.isArray(a)){var o=null,s=e._i(a,o);i.checked?s<0&&e.$set(t,"read",a.concat([o])):s>-1&&e.$set(t,"read",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(t,"read",n)}}}),r("div",{staticClass:"edit-book"},[r("button",{staticClass:"btn-edit",on:{click:function(r){return e.editBook(t.title)}}},[r("svg",{attrs:{viewBox:"314.826 209.106 15 15",width:"25",height:"20"}},[r("path",{attrs:{d:"M 325.31 211.541 L 327.659 214.184 C 327.758 214.296 327.758 214.477 327.659 214.589 L 321.971 220.989 L 319.555 221.291 C 319.232 221.331 318.959 221.024 318.994 220.661 L 319.264 217.941 L 324.95 211.541 C 325.051 211.43 325.211 211.43 325.31 211.541 Z M 329.529 210.87 L 328.259 209.44 C 327.863 208.995 327.219 208.995 326.821 209.44 L 325.898 210.477 C 325.801 210.589 325.801 210.77 325.898 210.882 L 328.248 213.525 C 328.346 213.637 328.508 213.637 328.606 213.525 L 329.529 212.488 C 329.925 212.04 329.925 211.315 329.529 210.87 Z M 324.826 219.248 L 324.826 222.231 L 316.492 222.231 L 316.492 212.854 L 322.477 212.854 C 322.561 212.854 322.638 212.816 322.699 212.752 L 323.74 211.579 C 323.938 211.357 323.798 210.979 323.519 210.979 L 316.076 210.979 C 315.386 210.979 314.826 211.609 314.826 212.386 L 314.826 222.7 C 314.826 223.476 315.386 224.106 316.076 224.106 L 325.242 224.106 C 325.931 224.106 326.492 223.476 326.492 222.7 L 326.492 218.076 C 326.492 217.762 326.156 217.607 325.959 217.827 L 324.917 218.999 C 324.86 219.066 324.826 219.154 324.826 219.248 Z"}})])])]),r("div",{staticClass:"delete-book"},[r("button",{staticClass:"btn-delete",on:{click:function(r){return e.removeFromLibrary(t.title)}}},[e._v(" X ")])])])}))],2)},v=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"grid-header"}},[r("div",{staticClass:"head-author"},[e._v("Author")]),r("div",{staticClass:"head-title"},[e._v("Title")]),r("div",{staticClass:"head-pages"},[e._v("No. Pages")]),r("div",{staticClass:"head-read"},[e._v("Have Read?")]),r("div",{staticClass:"head-edit"}),r("div",{staticClass:"head-delete"})])}],m={name:"LibraryData",props:{library:Array},methods:{removeFromLibrary:function(e){$.$emit("removeBookFromLibrary",e)},editBook:function(e){$.$emit("updateForm",e)},toggleRead:function(e){var t=this.library.findIndex((function(t){return t.title===e}));this.library[t].read=!this.library[t].read,$.$emit("updateBook",e,this.library[t])}}},y=m,g=(r("aa24"),Object(h["a"])(y,p,v,!1,null,"6e013ba6",null)),C=g.exports,L={name:"LibraryMain",data:function(){return{libraryUpdated:!1,titleCanBeChanged:!1,libraryTitle:"",library:[],visibleComponent:"library-data",bookIndex:-1}},created:function(){var e=this;this.libraryTitle=localStorage.getItem("libraryTitle")?localStorage.getItem("libraryTitle"):"My Library",this.library=this.loadLibraryFromStorage(),$.$on("formVisible",(function(t){e.visibleComponent=t})),$.$on("addToLibrary",(function(t){e.library.unshift(t),e.updateSavedLibrary()})),$.$on("removeBookFromLibrary",(function(t){var r=e.findBookIndex(t);e.library.splice(r,1),e.updateSavedLibrary()})),$.$on("updateBook",(function(t,r){var a=e.findBookIndex(t);e.library[a]=r,e.updateSavedLibrary()})),$.$on("updateForm",(function(t){e.bookIndex=e.findBookIndex(t),e.toggleNewForm()})),$.$on("updateBook",(function(){e.updateSavedLibrary()}))},destroyed:function(){$.$off("formVisible"),$.$off("addToLibrary"),$.$off("removeBookFromLibrary")},methods:{toggleNewForm:function(){this.visibleComponent="library-new-data"},changeTitle:function(){var e=this;"library-data"===this.visibleComponent&&(this.titleCanBeChanged=!this.titleCanBeChanged,this.$nextTick((function(){e.$refs.title.focus()})))},cancelTitle:function(){this.titleCanBeChanged=!this.titleCanBeChanged},setNewTitle:function(e){""!==e.target.value&&(this.titleCanBeChanged=!this.titleCanBeChanged,this.libraryTitle=e.target.value,localStorage.setItem("libraryTitle",this.libraryTitle))},loadLibraryFromStorage:function(){return JSON.parse(localStorage.getItem("library"))?JSON.parse(localStorage.getItem("library")):this.createDefaultLibrary()},updateSavedLibrary:function(){localStorage.setItem("library",JSON.stringify(this.library))},createDefaultLibrary:function(){var e=[{author:"Sun Tzu",title:"The Art of War",pages:260,read:!1}];return localStorage.setItem("library",JSON.stringify(e)),e},findBookIndex:function(e){return this.library.findIndex((function(t){return t.title===e}))}},components:{"library-new-data":b,"library-data":C}},k=L,_=(r("1913"),Object(h["a"])(k,o,s,!1,null,"00cdcb85",null)),x=_.exports,N={name:"App",components:{"library-main":x}},w=N,B=(r("5c0b"),Object(h["a"])(w,i,n,!1,null,null,null)),T=B.exports;a["a"].config.productionTip=!1;var $=new a["a"];new a["a"]({render:function(e){return e(T)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var a=r("9c0c"),i=r.n(a);i.a},"628e":function(e,t,r){},"9c0c":function(e,t,r){},aa24:function(e,t,r){"use strict";var a=r("628e"),i=r.n(a);i.a},df19:function(e,t,r){},e39f:function(e,t,r){}});
//# sourceMappingURL=app.fca3a75a.js.map